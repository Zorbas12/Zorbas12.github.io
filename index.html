<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zorbas Submissions</title>
<style>
body { font-family: Arial, sans-serif; background: #f0f0f0; margin: 0; padding: 0; }
header { display: flex; justify-content: flex-end; padding: 10px; gap: 10px; background: #333; color: white; }
button { cursor: pointer; }
.container { max-width: 600px; margin: 20px auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.2); }
.field { margin-bottom: 15px; }
label { display: block; margin-bottom: 5px; }
input, select { width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; }
.admin-btns { display: none; position: fixed; bottom: 20px; right: 20px; gap: 10px; }
.console-gui { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; padding: 20px; box-sizing: border-box; }
.console { background: #fff; color: #000; padding: 10px; height: 300px; overflow-y: auto; border: 1px solid #ccc; border-radius: 5px; margin-bottom: 10px; }
.submissions { margin-top: 20px; }
.submission-box { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 5px; }
</style>
</head>
<body>
<header>
<button id="btn-en">English</button>
<button id="btn-gr">Greek</button>
</header>
<div class="container" id="main-container">
<h1 id="title">Zorbas Submissions</h1>
<div class="field">
<label id="lbl-name">Name</label>
<input type="text" id="name">
</div>
<div class="field">
<label id="lbl-month">Month</label>
<select id="month">
<option value="January">January</option>
<option value="February">February</option>
<option value="March">March</option>
<option value="April">April</option>
<option value="May">May</option>
<option value="June">June</option>
<option value="July">July</option>
<option value="August">August</option>
<option value="September">September</option>
<option value="October">October</option>
<option value="November">November</option>
<option value="December">December</option>
</select>
</div>
<div class="field">
<label id="lbl-day">Day</label>
<input type="text" id="day" placeholder="Numbers, spaces, - allowed">
</div>
<div class="field">
<label id="lbl-shift">Shift</label>
<select id="shift">
<option value="off">Off</option>
<option value="6-2">6-2</option>
<option value="2-10">2-10</option>
</select>
</div>
<button id="submit-btn">Submit</button>
<div class="submissions" id="submissions"></div>
</div>
<div class="admin-btns" id="admin-btns">
<button id="admin-gui-btn">Admin GUI</button>
<button id="console-btn">Console</button>
</div>
<div class="console-gui" id="console-gui">
<button id="back-btn">Back</button>
<div class="console" id="console-log"></div>
<input type="text" id="console-input" placeholder="Enter command">
</div>
<script>
let translations = {
  en: {title: 'Zorbas Submissions', name: 'Name', month: 'Month', day: 'Day', shift: 'Shift', submit: 'Submit'},
  gr: {title: 'Υποβολές Ζορμπά', name: 'Όνομα', month: 'Μήνας', day: 'Ημέρα', shift: 'Βάρδια', submit: 'Υποβολή'}
};
let userId = localStorage.getItem('userId') || Math.floor(Math.random()*1000000);
localStorage.setItem('userId', userId);

// Hardcode your ID to always have admin on GitHub
let isAdmin = userId == '684319';
if(isAdmin) document.getElementById('admin-btns').style.display='flex';

let deviceName = 'Raphael';
function logConsole(msg){
  let log = document.getElementById('console-log');
  let p = document.createElement('div');
  p.innerText = msg;
  log.appendChild(p);
  log.scrollTop = log.scrollHeight;
}
logConsole(`${deviceName} opened the app with ID ${userId}`);

function translate(lang){
  document.getElementById('title').innerText = translations[lang].title;
  document.getElementById('lbl-name').innerText = translations[lang].name;
  document.getElementById('lbl-month').innerText = translations[lang].month;
  document.getElementById('lbl-day').innerText = translations[lang].day;
  document.getElementById('lbl-shift').innerText = translations[lang].shift;
  document.getElementById('submit-btn').innerText = translations[lang].submit;
}

document.getElementById('btn-en').onclick = ()=>translate('en');
document.getElementById('btn-gr').onclick = ()=>translate('gr');

document.getElementById('submit-btn').onclick = ()=>{
  let name = document.getElementById('name').value;
  let month = document.getElementById('month').value;
  let day = document.getElementById('day').value;
  let shift = document.getElementById('shift').value;
  let submissions = JSON.parse(localStorage.getItem('submissions')||'[]');
  submissions.push({id: Date.now(), userId, name, month, day, shift, status:'pending'});
  localStorage.setItem('submissions', JSON.stringify(submissions));
  alert('Submitted!');
}

function openAdminGUI() {
  let submissions = JSON.parse(localStorage.getItem('submissions')||'[]');
  let container = document.getElementById('submissions');
  container.innerHTML = '';
  submissions.forEach(sub => {
    let div = document.createElement('div');
    div.className = 'submission-box';
    div.innerHTML = `<strong>${sub.name}</strong> ${sub.month} ${sub.day} ${sub.shift} - ${sub.status}`;
    if(sub.status==='pending'){
      let accept = document.createElement('button'); accept.innerText='Accept';
      accept.onclick=()=>{sub.status='accepted'; localStorage.setItem('submissions', JSON.stringify(submissions)); alert(`${sub.name}'s submission accepted`); openAdminGUI();};
      let decline = document.createElement('button'); decline.innerText='Decline';
      decline.onclick=()=>{sub.status='declined'; localStorage.setItem('submissions', JSON.stringify(submissions)); alert(`${sub.name}'s submission declined`); openAdminGUI();};
      div.appendChild(accept); div.appendChild(decline);
    }
    container.appendChild(div);
  });
}

document.getElementById('admin-gui-btn').onclick = openAdminGUI;

document.getElementById('console-btn').onclick = ()=>{
  document.getElementById('main-container').style.display = 'none';
  document.getElementById('console-gui').style.display = 'block';
}

document.getElementById('back-btn').onclick = ()=>{
  document.getElementById('console-gui').style.display = 'none';
  document.getElementById('main-container').style.display = 'block';
}

document.getElementById('console-input').addEventListener('keydown', e=>{
  if(e.key==='Enter'){
    let val = e.target.value.trim();
    if(val.startsWith('adminadd')){
      let uid = val.split(' ')[1];
      localStorage.setItem('admin_'+uid,'true');
      logConsole(`Added admin ${uid}`);
    } else if(val.startsWith('adminremove')){
      let uid = val.split(' ')[1];
      localStorage.removeItem('admin_'+uid);
      logConsole(`Removed admin ${uid}`);
    }
    e.target.value='';
  }
});
</script>
</body>
</html>
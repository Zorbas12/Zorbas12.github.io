<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Zorbas Submissions</title>
<style>
@import url('https://fonts.cdnfonts.com/css/algerian');

body {
  font-family: Arial, sans-serif;
  background: #DAD9D7;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  margin: 0;
  padding-top: 100px;
  position: relative;
}

/* Language buttons */
.lang-buttons {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 14px;
}
.lang-buttons button {
  background-color: #DAD9D7;
  border: none;
  cursor: pointer;
  margin: 0 2px;
  font-size: 14px;
  text-decoration: none;
  font-weight: normal;
}
.lang-buttons button.active {
  font-weight: bold;
}

/* Title */
.form-title {
  font-family: 'Algerian', sans-serif;
  font-size: 60px;
  font-weight: bold;
  margin-bottom: 10px;
  text-align: center;
}

.form-box {
  background: #fff;
  padding: 30px 40px;
  border-radius: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  width: 320px;
  text-align: center;
  margin-bottom: 20px;
}

label {
  display: block;
  margin-bottom: 6px;
  font-weight: bold;
  text-align: center;
}

input, select {
  width: 90%;
  padding: 10px;
  margin-bottom: 18px;
  border: 1px solid #ccc;
  border-radius: 6px;
  text-align: left;
  font-size: 14px;
  box-sizing: border-box;
}

#store-container {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s ease;
}

#store-container.show {
  max-height: 500px;
}

.submit-btn {
  background-color: #E8DA89;
  border: none;
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
  font-weight: bold;
}
.submit-btn:hover {
  background-color: #d4c15e;
}

/* Message box below submit */
#message {
  margin-top: 10px;
  padding: 10px 15px;
  border-radius: 6px;
  color: #fff;
  font-weight: bold;
  display: none;
  font-size: 14px;
}

/* Admin GUI button in corner */
#admin-btn {
  position: fixed;
  bottom: 15px;
  right: 15px;
  z-index: 1000;
}

/* Admin GUI full overlay */
#admin-gui {
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:#DAD9D7;
  z-index:2000;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

/* White box inside submissions overlay */
#submissions-gui {
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:#DAD9D7;
  z-index:3000;
  display:flex;
  align-items:center;
  justify-content:center;
}
#submissions-box {
  background:#fff;
  padding:30px;
  border-radius:14px;
  text-align:center;
  width:300px;
}
#submissions-box button {
  width:90%;
  margin-bottom:10px;
}
</style>
</head>
<body>

<div class="lang-buttons">
  <button id="greek-btn">ΕΛΛ</button> / 
  <button id="eng-btn" class="active">ENG</button>
</div>

<div class="form-title" id="form-title">Zorbas Submissions</div>

<!-- Main submission GUI -->
<div class="form-box" id="submit-gui">
  <form id="zorbas-form">
    <label for="name" id="label-name">Name</label>
    <input type="text" id="name" placeholder="Fill out your name" required>

    <label for="month" id="label-month">Month</label>
    <select id="month" required>
      <option value="" disabled selected>Select month</option>
      <option>January</option><option>February</option><option>March</option>
      <option>April</option><option>May</option><option>June</option>
      <option>July</option><option>August</option><option>September</option>
      <option>October</option><option>November</option><option>December</option>
    </select>

    <label for="day" id="label-day">Day</label>
    <input type="text" id="day" placeholder="e.g. 12 - 24" pattern="[0-9\s-]+" required>

    <label for="shift" id="label-shift">Shift</label>
    <select id="shift" required>
      <option value="" disabled selected>Select shift</option>
      <option>off</option>
      <option>6-2</option>
      <option>2-10</option>
    </select>

    <label for="location" id="label-location">Location</label>
    <select id="location" required>
      <option value="" disabled selected>Select location</option>
      <option value="NICOSIA">Nicosia</option>
      <option value="LARNACA">Larnaca</option>
      <option value="FAMAGUSTA">Famagusta</option>
      <option value="LIMASSOL">Limassol</option>
      <option value="PAFOS">Pafos</option>
    </select>

    <div id="store-container">
      <label for="store" id="label-store">Store</label>
      <select id="store"></select>
    </div>

    <button type="button" class="submit-btn" id="submit-btn">Submit</button>
    <div id="message"></div>
  </form>
</div>

<!-- Admin GUI button -->
<button id="admin-btn" class="submit-btn">Admin GUI</button>

<!-- Admin GUI overlay -->
<div id="admin-gui">
  <button class="submit-btn" id="admin-see-submissions">See all submissions</button>
  <button class="submit-btn" id="admin-reset-submissions">Reset all submissions</button>
  <button class="submit-btn" id="admin-see-users">See all users</button>
  <button id="admin-back" style="background-color:#f44336; color:#fff; border:none; padding:12px 20px; border-radius:6px; font-size:16px; cursor:pointer; margin-top:20px;">Back</button>
</div>

<!-- Submissions locations overlay -->
<div id="submissions-gui">
  <div id="submissions-box">
    <!-- Dynamic content added here -->
  </div>
</div>

<script>
// Initialize submit GUI
document.getElementById("submit-gui").style.display = "block";
document.getElementById("admin-gui").style.display = "none";
document.getElementById("submissions-gui").style.display = "none";

// Local submissions array
let submissions = [];

// Stores
const stores = {
  NICOSIA: {EN:["Coffee Berry","Makariou Unihalls","Trinity Shop","Nicosia Mall","Kokkinotrimithia","Agios Pavlos","Chatziiosif","Pallouriotissa"], GR:["Coffee Berry","Makariou Unihalls","Trinity Shop","Nicosia Mall","Κοκκινοτριμιθιά","Άγιος Παύλος","Χατζηιωσηφ","Παλλουριώτισσα"]},
  LARNACA: {EN:["Timagia","Makariou","Faneromeni","Oroklini","Aradippou","Kiti"], GR:["Τιμάγια","Μακαρίου","Φανερωμένη","Ορόκλινη","Αραδίππου","Κίτι"]},
  FAMAGUSTA: {EN:["Paralimni","Protaras"], GR:["Παραλίμνι","Πρωταράς"]},
  LIMASSOL: {EN:["Paphou","Akadimias","NAAFI","Omirou"], GR:["Πάφου","Ακαδημίας","NAAFI","Όμηρου"]},
  PAFOS: {EN:["El. Venizelou","Geroskipou","Ellados","Apostolou Pavlou"], GR:["Ελ. Βενιζέλου","Γεροσκήπου","Ελλάδος","Αποστόλου Παύλου"]}
};

let currentLang="EN";
const greekBtn=document.getElementById("greek-btn");
const engBtn=document.getElementById("eng-btn");
const locationSelect=document.getElementById("location");
const storeContainer=document.getElementById("store-container");
const storeSelect=document.getElementById("store");
const submitBtn=document.getElementById("submit-btn");
const messageDiv=document.getElementById("message");

// Language toggle
greekBtn.addEventListener("click",()=>switchLang("GR"));
engBtn.addEventListener("click",()=>switchLang("EN"));

function switchLang(lang){
  currentLang=lang;
  if(lang==="GR"){
    greekBtn.classList.add("active"); engBtn.classList.remove("active");
    document.getElementById("label-name").textContent="Όνομα";
    document.getElementById("name").placeholder="Γράψτε το όνομά σας";
    document.getElementById("label-day").textContent="Ημέρα";
    document.getElementById("day").placeholder="π.χ. 12 - 24";
    document.getElementById("label-shift").textContent="Βάρδια";
    document.getElementById("shift").options[0].text="Επιλέξτε βάρδια";
    document.getElementById("label-month").textContent="Μήνας";
    const monthsGR = ["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"];
    const monthOptions=document.getElementById("month").options;
    for(let i=1;i<monthOptions.length;i++){ monthOptions[i].text=monthsGR[i-1]; }
    document.getElementById("month").options[0].text="Επιλέξτε μήνα";
    document.getElementById("label-location").textContent="Τοποθεσία";
    const locOptions=document.getElementById("location").options;
    locOptions[0].text="Επιλέξτε τοποθεσία";
    locOptions[1].text="Λευκωσία"; locOptions[2].text="Λάρνακα"; locOptions[3].text="Αμμόχωστος"; locOptions[4].text="Λεμεσός"; locOptions[5].text="Πάφος";
    document.getElementById("label-store").textContent="Κατάστημα";
    submitBtn.textContent="Υποβολή";
  } else {
    greekBtn.classList.remove("active"); engBtn.classList.add("active");
    document.getElementById("label-name").textContent="Name";
    document.getElementById("name").placeholder="Fill out your name";
    document.getElementById("label-day").textContent="Day";
    document.getElementById("day").placeholder="fill out your day";
    document.getElementById("label-shift").textContent="Shift";
    document.getElementById("shift").options[0].text="Select shift";
    document.getElementById("label-month").textContent="Month";
    const monthsEN = ["January","February","March","April","May","June","July","August","September","October","November","December"];
    const monthOptions=document.getElementById("month").options;
    for(let i=1;i<monthOptions.length;i++){ monthOptions[i].text=monthsEN[i-1]; }
    document.getElementById("month").options[0].text="Select month";
    document.getElementById("label-location").textContent="Location";
    const locOptions=document.getElementById("location").options;
    locOptions[0].text="Select location";
    locOptions[1].text="Nicosia"; locOptions[2].text="Larnaca"; locOptions[3].text="Famagusta"; locOptions[4].text="Limassol"; locOptions[5].text="Pafos";
    document.getElementById("label-store").textContent="Stores";
    submitBtn.textContent="Submit";
  }
  if(locationSelect.value) updateStores(locationSelect.value);
}

locationSelect.addEventListener("change",()=>updateStores(locationSelect.value));

function updateStores(location){
  if(stores[location]){
    storeSelect.innerHTML=`<option value="" disabled selected>${currentLang==="GR"?"Επιλέξτε κατάστημα":"Select a store"}</option>`;
    stores[location][currentLang].forEach(store=>{
      const option=document.createElement("option");
      option.value=store; option.textContent=store;
      storeSelect.appendChild(option);
    });
    storeContainer.classList.add("show");
  } else storeContainer.classList.remove("show");
}

function showMessage(text,type){
  messageDiv.textContent=text;
  messageDiv.className=type; // success or error
  messageDiv.style.display="block";
  setTimeout(()=>{messageDiv.style.display="none";},2000);
}

submitBtn.addEventListener("click",()=>{
  const name=document.getElementById("name").value.trim();
  const day=document.getElementById("day").value.trim();
  const shift=document.getElementById("shift").value;
  const month=document.getElementById("month").value;
  const location=document.getElementById("location").value;
  const store=storeContainer.classList.contains("show")?storeSelect.value:"filled";

  if(name && day && shift && month && location && store){
    submissions.push({name, day, shift, month, location, store});
    showMessage(currentLang==="GR"?"Υποβλήθηκε με επιτυχία!":"You successfully submitted!", "success");
    document.getElementById("zorbas-form").reset();
    storeContainer.classList.remove("show");
  } else showMessage(currentLang==="GR"?"Παρακαλώ συμπληρώστε όλα τα πεδία.":"Please fill in all fields.", "error");
});

// Admin GUI
const adminBtnElem = document.getElementById("admin-btn");
const adminGuiElem = document.getElementById("admin-gui");
const adminBackElem = document.getElementById("admin-back");
const adminSeeSubElem = document.getElementById("admin-see-submissions");
const adminResetSubElem = document.getElementById("admin-reset-submissions");
const adminSeeUsersElem = document.getElementById("admin-see-users");
const submissionsGuiElem = document.getElementById("submissions-gui");
const submissionsBox = document.getElementById("submissions-box");

adminBtnElem.addEventListener("click", ()=>{ adminGuiElem.style.display="flex"; });
adminBackElem.addEventListener("click", ()=>{ adminGuiElem.style.display="none"; });

adminResetSubElem.addEventListener("click", ()=>{ alert(currentLang==="GR"?"Όλες οι υποβολές επαναφέρθηκαν (placeholder)":"All submissions reset (placeholder)"); });
adminSeeUsersElem.addEventListener("click", ()=>{ alert(currentLang==="GR"?"Προβολή όλων των χρηστών (placeholder)":"See all users (placeholder)"); });

// Show submissions with locations panel first
adminSeeSubElem.addEventListener("click", ()=>{
  loadLocationsPanel();
  submissionsGuiElem.style.display="flex";
});

// Location buttons dynamic
const locationButtons = {
  "Λευκωσία": stores.NICOSIA,
  "Λάρνακα": stores.LARNACA,
  "Αμμόχωστος": stores.FAMAGUSTA,
  "Λεμεσός": stores.LIMASSOL,
  "Πάφος": stores.PAFOS
};

function showStores(location){
  submissionsBox.innerHTML = ""; // Clear old
  const storeList = locationButtons[location][currentLang];
  storeList.forEach(store => {
    const storeBtn = document.createElement("button");
    storeBtn.className = "submit-btn";
    storeBtn.textContent = store;
    submissionsBox.appendChild(storeBtn);
  });

  const backBtn = document.createElement("button");
  backBtn.textContent = currentLang==="GR"?"Πίσω":"Back";
  backBtn.style.backgroundColor="#f44336";
  backBtn.style.color="#fff";
  backBtn.style.border="none";
  backBtn.style.padding="12px 20px";
  backBtn.style.borderRadius="6px";
  backBtn.style.fontSize="16px";
  backBtn.style.cursor="pointer";
  backBtn.style.width="90%";
  backBtn.style.marginTop="10px";
  backBtn.addEventListener("click", ()=> loadLocationsPanel());
  submissionsBox.appendChild(backBtn);
}

function loadLocationsPanel(){
  submissionsBox.innerHTML="";
  Object.keys(locationButtons).forEach(loc => {
    const locBtn = document.createElement("button");
    locBtn.className="submit-btn";
    locBtn.textContent=loc;
    locBtn.addEventListener("click", ()=> showStores(loc));
    submissionsBox.appendChild(locBtn);
  });

  // Add back button to close overlay
  const closeBtn = document.createElement("button");
  closeBtn.textContent = currentLang==="GR"?"Πίσω":"Back";
  closeBtn.style.backgroundColor="#f44336";
  closeBtn.style.color="#fff";
  closeBtn.style.border="none";
  closeBtn.style.padding="12px 20px";
  closeBtn.style.borderRadius="6px";
  closeBtn.style.fontSize="16px";
  closeBtn.style.cursor="pointer";
  closeBtn.style.width="90%";
  closeBtn.style.marginTop="10px";
  closeBtn.addEventListener("click", ()=> submissionsGuiElem.style.display="none");
  submissionsBox.appendChild(closeBtn);
}
</script>

</body>
</html>
